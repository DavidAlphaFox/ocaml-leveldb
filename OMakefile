
USE_OCAMLFIND = true
NATIVE_ENABLED = true
BYTE_ENABLED = true

OCAMLFLAGS = -w +a-4-6-9-27-28-30..99 -warn-error +a-4-6-9-18-27-28-30..99 -annot -thread
OCAMLOPTFLAGS += -inline 100

.SUBDIRS: src test

.SUBDIRS: leveldb
    libleveldb.a:
       make $@
   
    clean:
       make clean

PACKAGE_FILES = $(cd src, $(ls *.cma *.cmxa *.cmx *.cmi *.mli *.so *.a))

.PHONY: install
install:
	ocamlfind install leveldb META $(PACKAGE_FILES)

.PHONY: uninstall
uninstall:
	ocamlfind remove leveldb
